<div class="form-section">
  <div class="section-header">
    <h3>{{ 'orders.servicesCost' | translate }}</h3>
  </div>

  <p-table
    #dt2
    [scrollable]="true"
    [value]="services"
    dataKey="id"
    [rows]="rows"
    [lazy]="true"
    [totalRecords]="totalRecords"
    [rowsPerPageOptions]="rowsPerPageOptions"
    [first]="first"
    [paginator]="true"
    (onLazyLoad)="onLazyLoad($event)">
    <ng-template pTemplate="header">
      @if (true) {
        <tr>
          <th>{{ 'orders.serviceName' | translate }}</th>
          <th>{{ 'orders.serviceCost' | translate }}</th>
          <th>{{ 'orders.notes' | translate }}</th>
          <th style="width: fit-content"></th>
        </tr>
      }
    </ng-template>
    <ng-template pTemplate="body" let-service let-rowIndex="rowIndex">
      <tr>
        <td>{{ lang.lang === 'ar' ? service.name_ar : service.name }}</td>
        <td>{{ service.cost }}</td>
        <td>
          {{ service.note }}
        </td>
      </tr>
    </ng-template>

    <ng-template pTemplate="summary">
      <div class="d-flex align-items-center">
        {{ 'orders.totalServiceCost' | translate }} : &nbsp;
        <span class="price-with-symbol">
          <sar-symbol />
          <span>
            {{ totalServiceCost | number: '1.2-2' }}
          </span>
        </span>
      </div>
    </ng-template>

    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="8">
          <app-empty-state
            [customMessage]="'common.noData' | translate"></app-empty-state>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
