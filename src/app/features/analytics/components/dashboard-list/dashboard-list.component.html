<div class="analytics-container">
  <div class="analytics-header">
    <div class="header-content">
      <div class="title-section">
        <h1 class="page-title">
          <i class="pi pi-chart-bar"></i>
          {{ 'analytics.title' | translate }}
        </h1>
        <p class="page-subtitle">
          {{ 'analytics.subtitle' | translate }}
        </p>
      </div>
      <div class="header-actions">
        <p-button
          icon="pi pi-refresh"
          [label]="'common.refresh' | translate"
          (click)="onRetry()"
          [loading]="loading"
          class="p-button-secondary">
        </p-button>
      </div>
    </div>
  </div>

  <div *ngIf="loading" class="loading-container">
    <div class="dashboard-skeleton-grid">
      <div class="dashboard-skeleton" *ngFor="let item of [1,2,3,4,5,6]">
        <p-skeleton height="200px" borderRadius="16px"></p-skeleton>
        <div class="skeleton-content">
          <p-skeleton height="24px" width="80%" class="mb-2"></p-skeleton>
          <p-skeleton height="16px" width="60%"></p-skeleton>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="error && !loading" class="error-container">
    <div class="error-content">
      <i class="pi pi-exclamation-triangle error-icon"></i>
      <h3>{{ 'analytics.error.title' | translate }}</h3>
      <p>{{ error }}</p>
      <p-button
        icon="pi pi-refresh"
        [label]="'common.retry' | translate"
        (click)="onRetry()">
      </p-button>
    </div>
  </div>

  <div *ngIf="!loading && !error" class="dashboards-grid">
    <div *ngIf="dashboards.length === 0" class="empty-state">
      <i class="pi pi-chart-bar empty-icon"></i>
      <h3>{{ 'analytics.empty.title' | translate }}</h3>
      <p>{{ 'analytics.empty.message' | translate }}</p>
    </div>

    <div
      *ngFor="let dashboard of dashboards;"
      class="dashboard-card"
      (click)="onDashboardClick(dashboard)">

      <div class="card-header">
        <div class="dashboard-icon">
          <i class="pi pi-chart-line"></i>
        </div>
        <div class="card-actions">
          <i class="pi pi-external-link"></i>
        </div>
      </div>

      <div class="card-content">
        <h3 class="dashboard-title">{{ dashboard.name }}</h3>
        <p class="dashboard-description" *ngIf="dashboard.description">
          {{ dashboard.description }}
        </p>
        <p class="dashboard-description placeholder" *ngIf="!dashboard.description">
          {{ 'analytics.dashboard.defaultDescription' | translate }}
        </p>
      </div>

      <div class="card-footer">
        <div class="dashboard-meta">
          <span class="meta-item">
<!--            <i class="pi pi-calendar"></i>-->
<!--            <span>{{ formatDate(dashboard.updated_at) }}</span>-->
          </span>
          <span class="meta-item">
            <i class="pi pi-hashtag"></i>
            <span>ID: {{ dashboard.id }}</span>
          </span>
        </div>
        <div class="view-button">
          <span>{{ 'analytics.dashboard.viewDashboard' | translate }}</span>
          <i class="pi pi-arrow-right"></i>
        </div>
      </div>

      <div class="card-overlay"></div>
    </div>
  </div>
</div>
