<div class="contact">
  <div class="sec_id" id="contact-us"></div>
  <div class="container">
    <div class="row">
      <div class="col-12 p-3">
        <div class="section_title text-center">
          <h3>تواصل معنا</h3>
          <p [innerHTML]="contactDetails.about"></p>
        </div>
        <ul
          class="d-flex align-items-center justify-content-center contact_info">
          <li>
            <a
              href="https://wa.me/{{ contactDetails.phone }}"
              class="text-center d-flex align-items-center">
              <svg
                width="20"
                height="20"
                viewBox="0 0 14 14"
                fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M11.875 2.0625C13.1875 3.375 14 5.09375 14 6.96875C14 10.7812 10.8125 13.9062 6.96875 13.9062C5.8125 13.9062 4.6875 13.5938 3.65625 13.0625L0 14L0.96875 10.4062C0.375 9.375 0.03125 8.1875 0.03125 6.9375C0.03125 3.125 3.15625 0 6.96875 0C8.84375 0 10.5938 0.75 11.875 2.0625ZM6.96875 12.7188C10.1562 12.7188 12.8125 10.125 12.8125 6.96875C12.8125 5.40625 12.1562 3.96875 11.0625 2.875C9.96875 1.78125 8.53125 1.1875 7 1.1875C3.8125 1.1875 1.21875 3.78125 1.21875 6.9375C1.21875 8.03125 1.53125 9.09375 2.09375 10.0312L2.25 10.25L1.65625 12.375L3.84375 11.7812L4.03125 11.9062C4.9375 12.4375 5.9375 12.7188 6.96875 12.7188ZM10.1562 8.40625C10.3125 8.5 10.4375 8.53125 10.4688 8.625C10.5312 8.6875 10.5312 9.03125 10.375 9.4375C10.2188 9.84375 9.53125 10.2188 9.21875 10.25C8.65625 10.3438 8.21875 10.3125 7.125 9.8125C5.375 9.0625 4.25 7.3125 4.15625 7.21875C4.0625 7.09375 3.46875 6.28125 3.46875 5.40625C3.46875 4.5625 3.90625 4.15625 4.0625 3.96875C4.21875 3.78125 4.40625 3.75 4.53125 3.75C4.625 3.75 4.75 3.75 4.84375 3.75C4.96875 3.75 5.09375 3.71875 5.25 4.0625C5.375 4.40625 5.75 5.25 5.78125 5.34375C5.8125 5.4375 5.84375 5.53125 5.78125 5.65625C5.46875 6.3125 5.09375 6.28125 5.28125 6.59375C5.96875 7.75 6.625 8.15625 7.65625 8.65625C7.8125 8.75 7.90625 8.71875 8.03125 8.625C8.125 8.5 8.46875 8.09375 8.5625 7.9375C8.6875 7.75 8.8125 7.78125 8.96875 7.84375C9.125 7.90625 9.96875 8.3125 10.1562 8.40625Z"
                  fill="#1A2523" />
              </svg>
              <span> {{ contactDetails.phone | nationalNumber }}</span>
            </a>
          </li>
          <li>
            <a
              href="mailto:{{ contactDetails.email }}"
              class="text-center d-flex align-items-center">
              <svg
                width="20"
                height="20"
                viewBox="0 0 16 12"
                fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M2 1.5C1.71875 1.5 1.5 1.75 1.5 2V2.71875L6.875 7.125C7.53125 7.65625 8.4375 7.65625 9.09375 7.125L14.5 2.71875V2C14.5 1.75 14.25 1.5 14 1.5H2ZM1.5 4.65625V10C1.5 10.2812 1.71875 10.5 2 10.5H14C14.25 10.5 14.5 10.2812 14.5 10V4.65625L10.0625 8.28125C8.84375 9.28125 7.125 9.28125 5.9375 8.28125L1.5 4.65625ZM0 2C0 0.90625 0.875 0 2 0H14C15.0938 0 16 0.90625 16 2V10C16 11.125 15.0938 12 14 12H2C0.875 12 0 11.125 0 10V2Z"
                  fill="#1A2523" />
              </svg>
              <span>{{ contactDetails.email }}</span>
            </a>
          </li>
          <li>
            @if (contactDetails.location?.length > 0) {
              <div
                class="text-center d-flex align-items-center">
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 14 14"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M7 0C4.375 0 2.25 2.125 2.25 4.75C2.25 8.3125 7 14 7 14C7 14 11.75 8.3125 11.75 4.75C11.75 2.125 9.625 0 7 0ZM7 6.375C6.0875 6.375 5.375 5.6625 5.375 4.75C5.375 3.8375 6.0875 3.125 7 3.125C7.9125 3.125 8.625 3.8375 8.625 4.75C8.625 5.6625 7.9125 6.375 7 6.375Z"
                    fill="#1A2523" />
                </svg>
                <span>{{ contactDetails.location }}</span>
              </div>
            }
          </li>
        </ul>
      </div>
    </div>
    @if (contactDetails.mapLocation?.lat) {
      <div class="map-container">
        <div class="map-overlay"></div>
        @if (locatedAddress) {
          <div
            class="address-tooltip"
            (click)="openInGoogleMaps()"
            [attr.aria-label]="'Open location in Google Maps'"
            role="link">
            <div class="tooltip-content">
              <svg
                width="25"
                height="26"
                viewBox="0 0 25 26"
                fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <circle cx="12.4999" cy="13.3896" r="12.5" fill="#FAF3EB" />
                <path
                  d="M15.3749 12.3896C15.3749 10.5381 13.8515 9.01465 11.9999 9.01465C10.1249 9.01465 8.62494 10.5381 8.62494 12.3896C8.62494 12.6943 8.71869 13.1396 8.9765 13.749C9.21088 14.3115 9.56244 14.9678 9.96088 15.624C10.6406 16.7021 11.414 17.7334 11.9999 18.4834C12.5624 17.7334 13.3359 16.7021 14.0156 15.624C14.414 14.9678 14.7656 14.3115 14.9999 13.749C15.2578 13.1396 15.3749 12.6943 15.3749 12.3896ZM16.4999 12.3896C16.4999 14.4521 13.7578 18.085 12.539 19.6084C12.2578 19.96 11.7187 19.96 11.4374 19.6084C10.2421 18.085 7.49994 14.4521 7.49994 12.3896C7.49994 9.90527 9.51556 7.88965 11.9999 7.88965C14.4843 7.88965 16.4999 9.90527 16.4999 12.3896ZM12.7499 12.3896C12.7499 11.9912 12.3984 11.6396 11.9999 11.6396C11.5781 11.6396 11.2499 11.9912 11.2499 12.3896C11.2499 12.8115 11.5781 13.1396 11.9999 13.1396C12.3984 13.1396 12.7499 12.8115 12.7499 12.3896ZM10.1249 12.3896C10.1249 11.7334 10.4765 11.124 11.0624 10.7725C11.6249 10.4443 12.3515 10.4443 12.9374 10.7725C13.4999 11.124 13.8749 11.7334 13.8749 12.3896C13.8749 13.0693 13.4999 13.6787 12.9374 14.0303C12.3515 14.3584 11.6249 14.3584 11.0624 14.0303C10.4765 13.6787 10.1249 13.0693 10.1249 12.3896Z"
                  fill="#1A2523" />
              </svg>
              <span>{{ locatedAddress }}</span>
            </div>
            <div class="tooltip-arrow"></div>
          </div>
        }
        <iframe
          width="100%"
          height="320px"
          frameborder="0"
          style="border: 0"
          [src]="googleMapUrl"
          allowfullscreen>
        </iframe>
      </div>
    }
  </div>
</div>
